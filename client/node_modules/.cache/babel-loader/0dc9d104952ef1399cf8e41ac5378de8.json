{"ast":null,"code":"var _jsxFileName = \"/Users/namit_vedwan/nodews/doubt-react/doubut-final/client/src/component/login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport styles from '../asset/css/singup.module.css';\nimport Cookies from 'universal-cookie';\nimport { useToasts } from 'react-toast-notifications';\nimport { useCookies } from 'react-cookie';\nimport { useNavigate } from 'react-router-dom';\nimport { Url } from '../constants/link';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = props => {\n  _s();\n\n  const [cookies, setCookie] = useCookies('');\n  const [loggingIn, setLoggingIn] = useState(false);\n  const {\n    addToast\n  } = useToasts();\n  const history = useNavigate();\n  const [user, setUser] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  let name, value;\n\n  const handleInputs = e => {\n    name = e.target.name;\n    value = e.target.value;\n    setUser({ ...user,\n      [name]: value\n    });\n  };\n\n  const Postdata = async e => {\n    setLoggingIn(true);\n    e.preventDefault();\n    const {\n      email,\n      password\n    } = user;\n    const response = await fetch(Url + '/log-in', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    }); // console.log(response);\n\n    const data = await response.json();\n    setCookie('token', data.cookie);\n\n    if (response.status === 200) {\n      addToast(\"Done\", {\n        appearances: true,\n        autoDismiss: true\n      });\n      props.login(true);\n      setLoggingIn(false);\n      history('/explore');\n    } else {\n      setLoggingIn(false);\n      addToast(\"Invalid Information ‼️\", {\n        appearances: false,\n        autoDismiss: true\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.logincontainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.card_title,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.form,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          method: \"POST\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"User Email\",\n            id: \"email\",\n            value: user.email,\n            onChange: handleInputs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            id: \"password\",\n            value: user.password,\n            onChange: handleInputs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: Postdata,\n            disabled: loggingIn,\n            children: loggingIn ? 'Loging in..' : 'Log-in'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"FoG1mnQ+vY4jRI51TymxaRLXK2M=\", false, function () {\n  return [useCookies, useToasts, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","styles","Cookies","useToasts","useCookies","useNavigate","Url","Login","props","cookies","setCookie","loggingIn","setLoggingIn","addToast","history","user","setUser","email","password","name","value","handleInputs","e","target","Postdata","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","cookie","status","appearances","autoDismiss","login","container","logincontainer","card_title","form"],"sources":["/Users/namit_vedwan/nodews/doubt-react/doubut-final/client/src/component/login.js"],"sourcesContent":["\nimport { useState } from 'react';\nimport styles from '../asset/css/singup.module.css'\nimport Cookies from 'universal-cookie';\nimport { useToasts } from 'react-toast-notifications';\nimport { useCookies } from 'react-cookie';\n\nimport { useNavigate } from 'react-router-dom';\nimport { Url } from '../constants/link';\n\nexport const Login=(props)=>{\n  const [cookies, setCookie] = useCookies('');\n  const[loggingIn,setLoggingIn]= useState(false);\n  const {addToast}= useToasts();\n  const history=useNavigate();\n  const [user,setUser]= useState({\n    email:\"\",password:\"\"\n  });\n\n  let name,value;\n\n  const handleInputs=(e)=>{\n     \n   \n    name=e.target.name;\n    value=e.target.value;\n\n    setUser({...user,[name]:value})\n\n  }\n\n  const Postdata= async(e)=>{\n          \n           setLoggingIn(true);\n          e.preventDefault();\n        \n          const {email,password}=user;\n          const response= await fetch(Url+'/log-in',{\n            method:\"POST\",\n            headers:{\n              \"Content-Type\": \"application/json\"\n            },\n            \n            body: JSON.stringify({\n             email,password\n            })\n          });\n          // console.log(response);\n\n         \n          const data= await response.json();\n        \n          setCookie('token',data.cookie);\n        \n         \n          if(response.status===200){\n            addToast(\"Done\",{\n              appearances:true,\n              autoDismiss:true\n            });\n            props.login(true);\n            setLoggingIn(false);\n            history('/explore')\n          }\n          else{\n            setLoggingIn(false);\n            addToast(\"Invalid Information ‼️\",{\n              appearances:false,\n              autoDismiss:true\n            });\n          }\n  }\n\n\n\n     return(\n    <div className={styles.container}>\n        \n        <div className={styles.logincontainer}>\n          <div className={styles.card_title}>\n            <h1>Log in</h1>\n          </div>\n          <div className={styles.form}>\n            <form  method=\"POST\">\n              \n              <input type=\"email\" name=\"email\" placeholder=\"User Email\" id=\"email\" \n                 value={user.email}\n                 onChange={handleInputs}\n              />\n             \n             \n              <input type=\"password\" name=\"password\" placeholder=\"Password\" id=\"password\"\n                  value={user.password}\n                  onChange={handleInputs}\n              />\n              <button onClick={Postdata} disabled={loggingIn}>\n              {loggingIn? 'Loging in..':'Log-in'}\n                </button>\n              \n            </form>\n          </div>\n        </div>\n      </div>\n     )\n}\n\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}